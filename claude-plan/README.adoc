= CUI Standards Plugin: Technical Specifications
:toc: left
:toclevels: 2
:sectnums:

== Overview

This directory contains the technical specifications for the `cui-standards` Claude Code plugin. These documents define the architecture, component structure, and implementation requirements for transforming cui-llm-rules into a distributable plugin.

== Document Index

=== xref:architecture-overview.adoc[Architecture Overview]

*Purpose*: High-level architectural design and layer model

*Contents*:

* Four-layer architecture (Standards, Skills, Agents, Commands)
* Visual architecture diagrams
* Key architectural decisions
* Current state analysis
* Installation and update procedures
* Version management strategy

*Audience*: Architects, technical leads, anyone needing to understand the overall design

---

=== xref:component-specifications.adoc[Component Specifications]

*Purpose*: Detailed technical specifications for Skills, Agents, and Commands

*Contents*:

* Skill structure and YAML frontmatter format
* Agent structure and Essential Rules Pattern
* Command structure and parameter support
* Path resolution rules
* Tool access patterns
* Complete examples for each component type

*Audience*: Developers implementing skills, agents, or commands

---

=== xref:plugin-structure.adoc[Plugin Structure Specification]

*Purpose*: Repository organization and plugin manifest requirements

*Contents*:

* Complete directory structure
* `plugin.json` manifest specification
* `marketplace.json` configuration
* Component discovery rules
* Path resolution requirements
* Version management
* Installation procedures

*Audience*: Plugin maintainers, developers setting up the repository

---

=== xref:synchronize-command-spec.adoc[Synchronize Command Specification]

*Purpose*: Project-specific synchronization for cross-platform compatibility

*Contents*:

* `/synchronize` command specification
* Copying agents/commands to project `.claude/` (git-controlled)
* Skills accessed dynamically from repository (never synchronized)
* Platform support (Claude Code, Claude.ai web, CI/CD)
* Update strategy and team collaboration workflow

*Audience*: Developers setting up projects, teams using Claude.ai web or CI/CD

---

=== xref:research-topics.adoc[Research Topics: Requires Verification]

*Purpose*: Document assumptions that require empirical verification before implementation

*Contents*:

* Critical unknowns about Claude Code/Claude.ai capabilities
* Skills access from Claude.ai web (CRITICAL - could break architecture)
* Plugin update mechanisms and version pinning
* Test scenarios and acceptance criteria
* Alternative approaches if assumptions fail
* Research tracking and documentation impact

*Audience*: Architects, implementers - **MUST READ** before implementation begins

== Quick Reference

=== Core Architectural Decisions

[cols="1,2,2"]
|===
|Decision |Approach |Rationale

|**Standards Layer**
|AsciiDoc files in `standards/`
|Single source of truth, version controlled

|**Skills Layer**
|SKILL.md files that reference standards
|Dynamic reads, always current, no duplication

|**Agents Layer**
|agent.md with Essential Rules (custom pattern)
|Performance (embedded) + Currency (skill references)

|**Distribution**
|Claude Code plugin via marketplace
|Native mechanism, automatic updates, team consistency
|===

=== Essential Rules Pattern

Agents use an **Essential Rules Pattern** where core requirements are embedded for performance, with skill references for complete standards.

See xref:component-specifications.adoc#essential-rules-pattern-custom-implementation[Component Specifications ¬ß Essential Rules Pattern] for complete specification.

=== Path Requirements

All paths must be relative to plugin root and start with `./`

See xref:plugin-structure.adoc#path-resolution[Plugin Structure ¬ß Path Resolution] for complete requirements.

=== Installation

See xref:plugin-structure.adoc#installation[Plugin Structure ¬ß Installation] for complete installation instructions including local development, GitHub repository, and project auto-installation.

=== Complete Workflow

==== Quick Start

[source,bash]
----
# 1. Install plugin (Claude Code users only)
/plugin install cui-standards@cui-llm-rules

# 2. Synchronize to project (makes available to all platforms)
cd ~/my-project
/synchronize

# 3. Commit to git
git add .claude/
git commit -m "sync: Add cui-standards components"
git push
----

**What gets synchronized**:

* ‚úÖ Agents ‚Üí `.claude/agents/` (git-controlled, available to all platforms)
* ‚úÖ Commands ‚Üí `.claude/commands/` (git-controlled, available to all platforms)
* ‚ùå Skills ‚Üí NOT synchronized (accessed dynamically from repository)

**For detailed workflow**, including:

* Interactive vs command-line synchronization modes
* Platform-specific usage (Claude Code, Claude.ai web, CI/CD)
* Skills resolution mechanism (‚ö†Ô∏è requires verification)
* Team collaboration workflow
* Update strategy

See xref:synchronize-command-spec.adoc[Synchronize Command Specification].

== Implementation Status

[cols="1,2,1"]
|===
|Component |Description |Status

|**Architecture**
|Four-layer model defined
|‚úÖ Specified

|**Skills**
|4 skills planned (Java, Testing, Documentation, Process)
|‚è≥ Not implemented

|**Agents**
|7 agents to migrate from `~/.claude/agents/`
|‚è≥ Not implemented

|**Commands**
|11 commands to migrate/create
|‚è≥ Not implemented

|**/synchronize command**
|Project synchronization for cross-platform compatibility
|‚úÖ Specified

|**plugin.json**
|Manifest specification complete
|‚úÖ Specified

|**Research Topics**
|Critical assumptions requiring verification before implementation
|‚ö†Ô∏è Needs Research
|===

== Verification Status

**Last Updated**: 2025-10-22

Core Claude Code assumptions have been tested. See xref:VERIFICATION-RESULTS.adoc[Verification Results] for complete details.

**Verified** ‚úÖ:

* Plugins CAN contain `skills/` directory
* Plugin installation commands work as documented
* Progressive disclosure model is correct
* YAML frontmatter structure is correct
* Marketplace update mechanism confirmed

**Failed** ‚ùå:

* `${CLAUDE_PLUGIN_ROOT}` environment variable does NOT exist (use programmatic detection)
* `/plugin list` command does NOT exist (use `/plugin` interactive)
* `/skill list` and `/agents list` commands do NOT exist

**Discoveries** üîç:

* `hooks/` directory supported (optional)
* `.mcp.json` MCP integration supported (optional)

**Deferred** ‚è∏Ô∏è:

* Claude.ai web skills access (lower priority - focus on Claude Code first)

== Known Limitations

See xref:plugin-structure.adoc#known-limitations[Plugin Structure ¬ß Known Limitations] for complete details.

**Key constraints**:

* **No individual plugin update command**: Use `/plugin marketplace update marketplace-name`
* **No semantic version pinning**: Version management via Git tags and marketplace `version` field
* **Relative paths required**: All paths must start with `./` (relative to plugin root)
* **Essential Rules**: Custom pattern requiring manual implementation and maintenance

== References

=== Official Documentation

* Claude Code Plugins: https://docs.claude.com/en/docs/claude-code/plugins
* Claude Code Skills: https://docs.claude.com/en/docs/claude-code/skills
* Claude Code Agents: https://docs.claude.com/en/docs/claude-code/sub-agents
* Claude Code Commands: https://docs.claude.com/en/docs/claude-code/slash-commands
* Plugin Marketplaces: https://docs.claude.com/en/docs/claude-code/plugin-marketplaces

=== Project Files

* Standards documentation: `../standards/`
* Current agents (user): `~/.claude/agents/`
* Current commands (user): `~/.claude/commands/`

== Document Conventions

* **Format**: AsciiDoc (.adoc)
* **TOC**: Left sidebar, 3 levels
* **Section Numbering**: Enabled
* **Code Blocks**: Syntax highlighting via `[source,type]`
* **Cross-References**: `xref:file.adoc[Link Text]`
