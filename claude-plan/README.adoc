= CUI Standards Plugin: Technical Specifications
:toc: left
:toclevels: 2
:sectnums:

== Overview

This directory contains the technical specifications for the `cui-standards` Claude Code plugin. These documents define the architecture, component structure, and implementation requirements for transforming cui-llm-rules into a distributable plugin.

== Document Index

=== xref:architecture-overview.adoc[Architecture Overview]

*Purpose*: High-level architectural design and layer model

*Contents*:

* Four-layer architecture (Standards, Skills, Agents, Commands)
* Visual architecture diagrams
* Key architectural decisions
* Current state analysis
* Installation and update procedures
* Version management strategy

*Audience*: Architects, technical leads, anyone needing to understand the overall design

---

=== xref:component-specifications.adoc[Component Specifications]

*Purpose*: Detailed technical specifications for Skills, Agents, and Commands

*Contents*:

* Skill structure and YAML frontmatter format
* Agent structure and Essential Rules Pattern
* Command structure and parameter support
* Path resolution rules
* Tool access patterns
* Complete examples for each component type

*Audience*: Developers implementing skills, agents, or commands

---

=== xref:plugin-structure.adoc[Plugin Structure Specification]

*Purpose*: Repository organization and plugin manifest requirements

*Contents*:

* Complete directory structure
* `plugin.json` manifest specification
* `marketplace.json` configuration
* Component discovery rules
* Path resolution requirements
* Version management
* Installation procedures

*Audience*: Plugin maintainers, developers setting up the repository

---

=== xref:synchronize-command-spec.adoc[Synchronize Command Specification]

*Purpose*: Project-specific synchronization for cross-platform compatibility

*Contents*:

* `/synchronize` command specification
* Copying agents/commands to project `.claude/` (git-controlled)
* Skills accessed dynamically from repository (never synchronized)
* Platform support (Claude Code, Claude.ai web, CI/CD)
* Update strategy and team collaboration workflow

*Audience*: Developers setting up projects, teams using Claude.ai web or CI/CD

---

=== xref:research-topics.adoc[Research Topics: Requires Verification]

*Purpose*: Document assumptions that require empirical verification before implementation

*Contents*:

* Critical unknowns about Claude Code/Claude.ai capabilities
* Skills access from Claude.ai web (CRITICAL - could break architecture)
* Plugin update mechanisms and version pinning
* Test scenarios and acceptance criteria
* Alternative approaches if assumptions fail
* Research tracking and documentation impact

*Audience*: Architects, implementers - **MUST READ** before implementation begins

== Quick Reference

=== Core Architectural Decisions

[cols="1,2,2"]
|===
|Decision |Approach |Rationale

|**Standards Layer**
|AsciiDoc files in `standards/`
|Single source of truth, version controlled

|**Skills Layer**
|SKILL.md files that reference standards
|Dynamic reads, always current, no duplication

|**Agents Layer**
|agent.md with Essential Rules (custom pattern)
|Performance (embedded) + Currency (skill references)

|**Distribution**
|Claude Code plugin via marketplace
|Native mechanism, automatic updates, team consistency
|===

=== Essential Rules Pattern

Agents use an **Essential Rules Pattern** where core requirements are embedded for performance, with skill references for complete standards.

See xref:component-specifications.adoc#essential-rules-pattern-custom-implementation[Component Specifications § Essential Rules Pattern] for complete specification.

=== Path Requirements

All paths must be relative to plugin root and start with `./`

See xref:plugin-structure.adoc#path-resolution[Plugin Structure § Path Resolution] for complete requirements.

=== Installation

See xref:plugin-structure.adoc#installation[Plugin Structure § Installation] for complete installation instructions including local development, GitHub repository, and project auto-installation.

=== Complete Workflow

==== Quick Start

[source,bash]
----
# 1. Install plugin (Claude Code users only)
/plugin install cui-standards@cui-llm-rules

# 2. Synchronize to project (makes available to all platforms)
cd ~/my-project
/synchronize

# 3. Commit to git
git add .claude/
git commit -m "sync: Add cui-standards components"
git push
----

**What gets synchronized**:

* ✅ Agents → `.claude/agents/` (git-controlled, available to all platforms)
* ✅ Commands → `.claude/commands/` (git-controlled, available to all platforms)
* ❌ Skills → NOT synchronized (accessed dynamically from repository)

**For detailed workflow**, including:

* Interactive vs command-line synchronization modes
* Platform-specific usage (Claude Code, Claude.ai web, CI/CD)
* Skills resolution mechanism (⚠️ requires verification)
* Team collaboration workflow
* Update strategy

See xref:synchronize-command-spec.adoc[Synchronize Command Specification].

== Implementation Status

[cols="1,2,1"]
|===
|Component |Description |Status

|**Architecture**
|Four-layer model defined
|✅ Specified

|**Skills**
|4 skills planned (Java, Testing, Documentation, Process)
|⏳ Not implemented

|**Agents**
|7 agents to migrate from `~/.claude/agents/`
|⏳ Not implemented

|**Commands**
|11 commands to migrate/create
|⏳ Not implemented

|**/synchronize command**
|Project synchronization for cross-platform compatibility
|✅ Specified

|**plugin.json**
|Manifest specification complete
|✅ Specified

|**Research Topics**
|Critical assumptions requiring verification before implementation
|⚠️ Needs Research
|===

== Known Limitations

See xref:plugin-structure.adoc#known-limitations[Plugin Structure § Known Limitations] for complete details.

**Key constraints**:

* **No individual plugin update command**: Use `/plugin marketplace update marketplace-name`
* **No semantic version pinning**: Version management via Git tags and marketplace `version` field
* **Relative paths required**: All paths must start with `./` (relative to plugin root)
* **Essential Rules**: Custom pattern requiring manual implementation and maintenance

== References

=== Official Documentation

* Claude Code Plugins: https://docs.claude.com/en/docs/claude-code/plugins
* Claude Code Skills: https://docs.claude.com/en/docs/claude-code/skills
* Claude Code Agents: https://docs.claude.com/en/docs/claude-code/sub-agents
* Claude Code Commands: https://docs.claude.com/en/docs/claude-code/slash-commands
* Plugin Marketplaces: https://docs.claude.com/en/docs/claude-code/plugin-marketplaces

=== Project Files

* Standards documentation: `../standards/`
* Current agents (user): `~/.claude/agents/`
* Current commands (user): `~/.claude/commands/`

== Document Conventions

* **Format**: AsciiDoc (.adoc)
* **TOC**: Left sidebar, 3 levels
* **Section Numbering**: Enabled
* **Code Blocks**: Syntax highlighting via `[source,type]`
* **Cross-References**: `xref:file.adoc[Link Text]`
